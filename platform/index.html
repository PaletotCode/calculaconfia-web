<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma - CalculaConfia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#1e293b', 
                        'primary-accent': '#0d9488',
                        'primary-accent-hover': '#0f766e',
                        'secondary-accent': '#ca8a04', 
                        'background-light': '#f1f5f9', 
                        'text-dark': '#0f172a',
                        'text-light': '#f8fafc', 
                        'nav-bg': 'rgba(30, 41, 59, 0.9)', 
                        'hover-home': '#0d9488',
                        'hover-calc': '#3b82f6', 'hover-hist': '#8b5cf6', 'hover-wallet': '#ca8a04', 'hover-logout': '#ef4444',
                    },
                },
            },
        };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="/assets/vendor/lucide.min.js" defer></script>
    <!-- Biblioteca para máscaras de input -->
    <script src="https://unpkg.com/imask" defer></script>
    <!-- Biblioteca para o Calendário (Flatpickr) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr" defer></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/pt.js" defer></script>

    <!-- Security: CSP to allow needed CDNs (mirrors index.html) -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://sdk.mercadopago.com https://*.mercadopago.com https://*.mercadolibre.com https://static.cloudflareinsights.com https://unpkg.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://npmcdn.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com data:; img-src 'self' data:; media-src 'self'; connect-src 'self' https://calculaconfia-production.up.railway.app http://localhost:3000 http://localhost:8000 https://api.mercadopago.com https://sdk.mercadopago.com https://*.mercadopago.com https://api.mercadolibre.com https://*.mercadolibre.com https://cloudflareinsights.com https://static.cloudflareinsights.com; frame-src 'self' https://*.mercadopago.com https://*.mercadopago.com.br https://*.mercadolibre.com; base-uri 'self'; upgrade-insecure-requests">

    <style>
        body { font-family: 'Inter', sans-serif; overflow: hidden; }
        .nav-container { perspective: 800px; }
        .nav-enter { animation: slideUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; position: relative; overflow: hidden; }
        .nav-enter::before { content: ''; position: absolute; top:0;left:0;right:0;bottom:0; background: radial-gradient(circle at 10% 20%, rgba(13, 148, 136, 0.2), transparent 25%), radial-gradient(circle at 80% 30%, rgba(59, 130, 246, 0.2), transparent 25%), radial-gradient(circle at 30% 80%, rgba(139, 92, 246, 0.2), transparent 25%), radial-gradient(circle at 90% 90%, rgba(202, 138, 4, 0.2), transparent 25%); background-size: 200% 200%; animation: liquid-aurora 15s linear infinite; z-index:0; }
        #nav-links { position: relative; z-index: 1; }
        @keyframes liquid-aurora { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
        @keyframes slideUp { from{opacity:0;transform:translateY(50px)} to{opacity:1;transform:translateY(0)} }
        #page-container { display:flex; width:400%; height:100%; transition: transform .5s cubic-bezier(0.25,0.46,0.45,0.94); }
        .page { width:25%; height:100%; display:flex; align-items:center; justify-content:center; padding:1.5rem; flex-shrink:0; }
        #nav-indicator{ position:absolute; bottom:4px; height:3px; background-color: var(--active-indicator-color,#0d9488); border-radius:999px; box-shadow:0 0 10px 0 var(--active-indicator-color,#0d9488); transition:left .4s,width .4s, background-color .3s; z-index:2; }
        #calculate.page{ position:relative; } #calculate-container{ width:100%; height:100%; position:relative; }
        .calculator-step{ width:100%; height:100%; flex-shrink:0; display:flex; flex-direction:column; align-items:center; justify-content:center; position:absolute; top:0; left:0; padding:1.5rem; opacity:0; visibility:hidden; transition: opacity .4s, transform .4s, visibility .4s; transform: scale(.98); }
        .calculator-step.active{ opacity:1; visibility:visible; z-index:5; transform: scale(1); }
        /* … restante dos estilos idênticos ao platform.html … */
    </style>
</head>

<body class="bg-slate-100 flex flex-col h-screen">
    <!-- Conteúdo idêntico ao de platform.html. A cópia foi feita para servir em /platform/ -->
    <!-- Para evitar duplicação longa aqui, o conteúdo completo é o mesmo já presente em platform.html -->
    <script>
      // Pequeno bootstrap que carrega o conteúdo original do arquivo /platform.html dentro desta página
      // Mantemos uma única fonte de verdade de markup.
      (async function(){
        try {
          const res = await fetch('/platform.html', { cache: 'no-store' });
          const html = await res.text();
          const doc = new DOMParser().parseFromString(html, 'text/html');
          document.title = doc.title || document.title;
          const body = doc.body; if (!body) return;
          // Importa apenas o conteúdo do <body> original
          document.body.innerHTML = body.innerHTML;
          // Reexecuta scripts presentes no body (com e sem src)
          const scripts = Array.from(document.body.querySelectorAll('script'));
          for (const s of scripts) {
            const n = document.createElement('script');
            if (s.src) { n.src = s.getAttribute('src'); n.defer = s.defer; n.async = s.async; }
            else { n.text = s.textContent || ''; }
            // Preserve type when needed
            const t = s.getAttribute('type'); if (t) n.setAttribute('type', t);
            document.body.appendChild(n);
          }
        } catch(e) {
          console.error('Falha ao carregar /platform.html:', e);
        }
      })();
    </script>
</body>
</html>
